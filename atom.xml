<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://merpyzf.github.io</id>
    <title>It&apos;s my life</title>
    <updated>2020-04-27T03:33:37.550Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://merpyzf.github.io"/>
    <link rel="self" href="https://merpyzf.github.io/atom.xml"/>
    <subtitle>çœŸæ­£çš„å…‰èŠ’ï¼Œéœ€è¦ä¸€ç‚¹ç‚¹æ—¶é—´</subtitle>
    <logo>https://merpyzf.github.io/images/avatar.png</logo>
    <icon>https://merpyzf.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, It&apos;s my life</rights>
    <entry>
        <title type="html"><![CDATA[Android Library æ— æ³•å¼•ç”¨Libsç›®å½•ä¸‹çš„jaråŒ…]]></title>
        <id>https://merpyzf.github.io/post/android-library-wu-fa-yin-yong-libs-mu-lu-xia-de-jar-bao/</id>
        <link href="https://merpyzf.github.io/post/android-library-wu-fa-yin-yong-libs-mu-lu-xia-de-jar-bao/">
        </link>
        <updated>2020-04-26T02:39:42.000Z</updated>
        <content type="html"><![CDATA[<p>é€šè¿‡åˆ›å»ºä¸€ä¸ªAndroid Libraryå°†è®¾å¤‡å‚å•†æä¾›çš„æ‚ä¹±ä¸å ªçš„ä»£ç å°è£…æˆä¸€ä¸ªå¯ç›´æ¥è°ƒç”¨çš„AARçš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå½“åœ¨ Library ä¸­éœ€è¦å¼•ç”¨libsä¸‹çš„jaræ—¶å´å‘ç°æ‰¾ä¸åˆ°ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼šä¿®æ”¹Libraryåº“çš„build.gradleæ–‡ä»¶ï¼Œå°†implementationæ”¹æˆcompile<br>
ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation project(':core')
}

</code></pre>
<p>ä¿®æ”¹åï¼š</p>
<pre><code>dependencies {
    compile  fileTree(dir: 'libs', include: ['*.jar'])
    implementation project(':core')
}
</code></pre>
<p>é‡æ–°ç¼–è¯‘ä¹‹åå°±å¯ä»¥å¼•ç”¨åˆ°æ‰€éœ€è¦çš„jaräº†ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Androidä¸­å†…å­˜æ³„æ¼å‡ºç°çš„åœºæ™¯&è§£å†³æ–¹æ¡ˆ]]></title>
        <id>https://merpyzf.github.io/post/android-zhong-nei-cun-xie-lou-chu-xian-de-chang-jing-andjie-jue-fang-an/</id>
        <link href="https://merpyzf.github.io/post/android-zhong-nei-cun-xie-lou-chu-xian-de-chang-jing-andjie-jue-fang-an/">
        </link>
        <updated>2020-04-26T01:49:08.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å•ä¾‹æ¨¡å¼é€ æˆçš„å†…å­˜æ³„æ¼">å•ä¾‹æ¨¡å¼é€ æˆçš„å†…å­˜æ³„æ¼</h2>
<p>å•ä¾‹æ¨¡å¼æ˜¯éå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼çš„ç±»ï¼Œåªä¼šäº§ç”Ÿä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çœ‹èµ·æ¥åƒæ˜¯ä¸€ç›´å ç”¨ç€å†…å­˜ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€å°±æ˜¯æµªè´¹äº†å†…å­˜ï¼Œå†…å­˜æœ¬æ¥å°±æ˜¯æ‹¿æ¥è£…ä¸œè¥¿çš„ï¼Œåªè¦è¿™ä¸ªå¯¹è±¡ä¸€ç›´éƒ½è¢«é«˜æ•ˆçš„åˆ©ç”¨å°±ä¸èƒ½å«åšæ³„éœ²ã€‚<br>
ä½†æ˜¯è¿‡å¤šçš„å•ä¾‹ä¼šè®©å†…å­˜å ç”¨è¿‡å¤šï¼Œè€Œä¸”å•ä¾‹æ¨¡å¼__ç”±äºå…¶é™æ€ç‰¹æ€§ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´__ï¼Œä¸æ­£ç¡®åœ°ä½¿ç”¨å•ä¾‹æ¨¡å¼ä¹Ÿä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚</p>
<p>ä¸€ä¸ªAndroidä¸­çš„å•ä¾‹ï¼š</p>
<pre><code>public class SingleInstanceTest {

    private static SingleInstanceTest sInstance;
    private Context mContext;

    private SingleInstanceTest(Context context){
        this.mContext = context;
    }

    public static SingleInstanceTest newInstance(Context context){
        if(sInstance == null){
            sInstance = new SingleInstanceTest(context);
        }
        return sInstance;
    }
}
</code></pre>
<p>ä¸Šé¢æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å•ä¾‹æ¨¡å¼ç”¨æ³•ï¼Œéœ€è¦å¤–éƒ¨ä¼ å…¥ä¸€ä¸ª Context æ¥è·å–è¯¥ç±»çš„å®ä¾‹ï¼Œå¦‚æœæ­¤æ—¶ä¼ å…¥çš„ Context æ˜¯ Activity çš„è¯ï¼Œæ­¤æ—¶å•ä¾‹å°±æœ‰æŒæœ‰è¯¥ Activity çš„å¼ºå¼•ç”¨ï¼ˆç›´åˆ°æ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸç»“æŸï¼‰ã€‚è¿™æ ·çš„è¯ï¼Œå³ä½¿è¯¥ Activity é€€å‡ºï¼Œè¯¥ Activity çš„å†…å­˜ä¹Ÿä¸ä¼šè¢«å›æ”¶ï¼Œè¿™æ ·å°±é€ æˆäº†å†…å­˜æ³„éœ²ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›æ¯”è¾ƒå¤§çš„ Activityï¼Œç”šè‡³è¿˜ä¼šå¯¼è‡´ OOMï¼ˆOut Of Memoryï¼‰ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼šåœ¨å•ä¾‹æ¨¡å¼ä¸­å¼•ç”¨å’Œåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸€è‡´çš„ä¸Šä¸‹æ–‡ï¼ˆApplicationï¼‰</p>
<pre><code>public class SingleInstanceTest {

    private static SingleInstanceTest sInstance;
    private Context mContext;

    private SingleInstanceTest(Context context){
        this.mContext = context.getApplicationContext();
    }

    public static SingleInstanceTest newInstance(Context context){
        if(sInstance == null){
            sInstance = new SingleInstanceTest(context);
        }
        return sInstance;
    }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°åœ¨ SingleInstanceTest çš„æ„é€ å‡½æ•°ä¸­ï¼Œå°† context.getApplicationContext() èµ‹å€¼ç»™ mContextï¼Œæ­¤æ—¶å•ä¾‹å¼•ç”¨çš„å¯¹è±¡æ˜¯ Applicationï¼Œè€Œ Application çš„ç”Ÿå‘½å‘¨æœŸæœ¬æ¥å°±è·Ÿåº”ç”¨ç¨‹åºæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±ä¸å­˜åœ¨å†…å­˜æ³„éœ²ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å—¨ï¼HTML]]></title>
        <id>https://merpyzf.github.io/post/hai-html/</id>
        <link href="https://merpyzf.github.io/post/hai-html/">
        </link>
        <updated>2020-04-25T15:42:16.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯html">ä»€ä¹ˆæ˜¯HTMLï¼Ÿ</h2>
<p>HTML å…¨ç§°ä¸º HyperText Markup Languageï¼Œè¯‘ä¸ºè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚<br>
HTML ä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç§æè¿°æ€§çš„æ ‡è®°è¯­è¨€ã€‚<br>
ä½œç”¨ï¼šHTMLæ˜¯è´Ÿè´£æè¿°æ–‡æ¡£è¯­ä¹‰çš„è¯­è¨€ã€‚</p>
<h3 id="å…³äºè¶…æ–‡æœ¬çš„ç†è§£">å…³äºè¶…æ–‡æœ¬çš„ç†è§£ï¼š</h3>
<ol>
<li>HTMLå¯ä»¥æè¿°å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€åŠ¨ç”»ã€å¤šåª’ä½“ç­‰å†…å®¹ï¼Œè¶…å‡ºäº†åªèƒ½æ˜¾ç¤ºæ–‡æœ¬å†…å®¹çš„é™åˆ¶ã€‚</li>
<li>ä¸ä»…å¦‚æ­¤ï¼Œå®ƒè¿˜å¯ä»¥ä»ä¸€ä¸ªæ–‡ä»¶è·³è½¬åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ä¸–ç•Œå„åœ°ä¸»æœºçš„æ–‡ä»¶è¿›è¡Œè¿æ¥ã€‚å³ï¼šè¶…çº§é“¾æ¥æ–‡æœ¬ã€‚</li>
</ol>
<h3 id="æ ‡è®°è¯­è¨€">æ ‡è®°è¯­è¨€</h3>
<p>HTMLä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç§æè¿°æ€§çš„æ ‡è®°è¯­è¨€ã€‚è¿™ä¸»è¦æœ‰ä¸¤å±‚å«ä¹‰ï¼š</p>
<ol>
<li>æ ‡è®°è¯­è¨€æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾ã€‚æ¯”å¦‚ï¼šæ ‡ç­¾<code>&lt;a&gt;</code>è¡¨ç¤ºè¶…é“¾æ¥ã€æ ‡ç­¾<code>&lt;img&gt;</code>è¡¨ç¤ºå›¾ç‰‡ã€æ ‡ç­¾<code>&lt;h1&gt;</code>è¡¨ç¤ºä¸€çº§æ ‡é¢˜ç­‰ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯å±äº HTML æ ‡ç­¾ã€‚</li>
<li>ç¼–ç¨‹è¯­è¨€æ˜¯æœ‰ç¼–è¯‘è¿‡ç¨‹çš„ï¼Œè€Œæ ‡è®°è¯­è¨€æ²¡æœ‰ç¼–è¯‘è¿‡ç¨‹ï¼ŒHTMLæ ‡ç­¾æ˜¯ç›´æ¥ç”±æµè§ˆå™¨è§£ææ‰§è¡Œã€‚</li>
</ol>
<h3 id="è´Ÿè´£æè¿°æ–‡æ¡£çš„è¯­ä¹‰">è´Ÿè´£æè¿°æ–‡æ¡£çš„è¯­ä¹‰ï¼š</h3>
<p>HTML æ ¼å¼çš„æ–‡ä»¶æ˜¯ä¸€ä¸ªçº¯æœ¬æ–‡æ–‡ä»¶ï¼ˆå°±æ˜¯ç”¨txtæ–‡ä»¶æ”¹åè€Œæˆï¼‰ï¼Œç”¨ä¸€äº›æ ‡ç­¾æ¥æè¿°è¯­ä¹‰ï¼Œè¿™äº›æ ‡ç­¾åœ¨æµè§ˆå™¨é¡µé¢ä¸Šæ˜¯æ— æ³•ç›´è§‚çœ‹åˆ°çš„ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºâ€œè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€â€ã€‚<br>
HTML ä¸­çš„å¾ˆå¤šâ€œæ ‡ç­¾å¯¹å„¿â€ï¼Œè¿™äº›â€œæ ‡ç­¾å¯¹å„¿â€èƒ½å¤Ÿç»™æ–‡æœ¬ä¸åŒçš„è¯­ä¹‰ã€‚<br>
æ¯”å¦‚<h1> æ ‡ç­¾ï¼Œå®ƒå¯ä»¥ç»™æ–‡æœ¬å¢åŠ æ ‡é¢˜çš„è¯­ä¹‰ã€‚</p>
<h3 id="htmlçš„ä¸“æœ‰åè¯">HTMLçš„ä¸“æœ‰åè¯</h3>
<ul>
<li>ç½‘é¡µ ï¼šç”±å„ç§æ ‡è®°ç»„æˆçš„ä¸€ä¸ªé¡µé¢å°±å«ç½‘é¡µã€‚</li>
<li>ä¸»é¡µ(é¦–é¡µ) : ä¸€ä¸ªç½‘ç«™çš„èµ·å§‹é¡µé¢æˆ–è€…å¯¼èˆªé¡µé¢ã€‚</li>
<li>æ ‡è®°ï¼š æ¯”å¦‚<p>ç§°ä¸ºå¼€å§‹æ ‡è®° ï¼Œ</p>ç§°ä¸ºç»“æŸæ ‡è®°ï¼Œä¹Ÿå«æ ‡ç­¾ã€‚æ¯ä¸ªæ ‡ç­¾éƒ½è§„å®šå¥½äº†ç‰¹æ®Šçš„å«ä¹‰ã€‚</li>
<li>å…ƒç´ ï¼šæ¯”å¦‚<p>å†…å®¹</p>ç§°ä¸ºå…ƒç´ .</li>
<li>å±æ€§ï¼šç»™æ¯ä¸€ä¸ªæ ‡ç­¾æ‰€åšçš„è¾…åŠ©ä¿¡æ¯ã€‚</li>
<li>XHTMLï¼šç¬¦åˆXMLè¯­æ³•æ ‡å‡†çš„HTMLã€‚</li>
<li>DHTMLï¼šdynamicï¼ŒåŠ¨æ€çš„ã€‚javascript + css + htmlåˆèµ·æ¥çš„é¡µé¢å°±æ˜¯ä¸€ä¸ª DHTMLã€‚</li>
<li>HTTPï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚ç”¨æ¥è§„å®šå®¢æˆ·ç«¯æµè§ˆå™¨å’ŒæœåŠ¡ç«¯äº¤äº’æ—¶æ•°æ®çš„ä¸€ä¸ªæ ¼å¼ã€‚SMTPï¼šé‚®ä»¶ä¼ è¾“åè®®ï¼Œ- FTPï¼šæ–‡ä»¶ä¼ è¾“åè®®ã€‚</li>
</ul>
<h3 id="ä¸€ä¸ªhtmlé¡µé¢çš„éª¨æ¶">ä¸€ä¸ªHtmlé¡µé¢çš„éª¨æ¶ï¼š</h3>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="æ–‡æ¡£å£°æ˜å¤´">æ–‡æ¡£å£°æ˜å¤´</h3>
<p>ä»»ä½•ä¸€ä¸ªæ ‡å‡†çš„HTMLé¡µé¢ï¼Œç¬¬ä¸€è¡Œä¸€å®šæ˜¯ä¸€ä¸ªä»¥<!DOCTYPE â€¦â€¦>å¼€å¤´çš„è¯­å¥ã€‚è¿™ä¸€è¡Œï¼Œå°±æ˜¯æ–‡æ¡£å£°æ˜å¤´ï¼Œå³ DocType Declarationï¼Œç®€ç§°DTDã€‚<br>
DTDå¯å‘ŠçŸ¥æµè§ˆå™¨æ–‡æ¡£ä½¿ç”¨å“ªç§ HTML æˆ– XHTML è§„èŒƒã€‚</p>
<h4 id="html401æœ‰å“ªäº›è§„èŒƒå‘¢">HTML4.01æœ‰å“ªäº›è§„èŒƒå‘¢ï¼Ÿ</h4>
<p>HTML4.01è¿™ä¸ªç‰ˆæœ¬æ˜¯IE6å¼€å§‹å…¼å®¹çš„ã€‚HTML5æ˜¯IE9å¼€å§‹å…¼å®¹çš„ã€‚å¦‚ä»Šï¼Œæ‰‹æœºã€ç§»åŠ¨ç«¯çš„ç½‘é¡µï¼Œå°±å¯ä»¥ä½¿ç”¨HTML5äº†ï¼Œå› ä¸ºå…¶å…¼å®¹æ€§æ›´é«˜ã€‚<br>
è¯´ä¸ªé¢˜å¤–è¯ï¼Œhtml1 è‡³ html3 æ˜¯ç¾å›½å†›æ–¹ä»¥åŠé«˜ç­‰ç ”ç©¶æ‰€ç”¨çš„ï¼Œå¹¶æœªå¯¹å¤–å…¬å¼€ã€‚<br>
HTML4.01é‡Œé¢æœ‰ä¸¤å¤§ç§è§„èŒƒï¼Œæ¯å¤§ç§è§„èŒƒé‡Œé¢åˆå„æœ‰3ç§å°è§„èŒƒã€‚æ‰€ä»¥ä¸€å…±6ç§è§„èŒƒã€‚<br>
HTML4.01é‡Œé¢è§„å®šäº†æ™®é€šå’ŒXHTMLä¸¤å¤§ç§è§„èŒƒã€‚HTMLè§‰å¾—è‡ªå·±æœ‰ä¸€äº›è§„å®šä¸ä¸¥è°¨ï¼Œæ¯”å¦‚ï¼Œæ ‡ç­¾æ˜¯å¦å¯ä»¥ç”¨å¤§å†™å­—æ¯å‘¢ï¼Ÿ<code>&lt;H1&gt;&lt;/H1&gt;</code>æ‰€ä»¥ï¼ŒHTMLå°±è§‰å¾—ï¼ŒæŠŠä¸€äº›è§„èŒƒä¸¥æ ¼çš„æ ‡å‡†ï¼Œåˆåˆ¶å®šäº†ä¸€ä¸ªXHTML1.0ã€‚åœ¨XHTMLä¸­çš„å­—æ¯Xï¼Œè¡¨ç¤ºâ€œä¸¥æ ¼çš„â€ã€‚<br>
æ€»ç»“ä¸€ä¸‹ï¼ŒHTML4.01ä¸€å…±æœ‰6ç§DTDã€‚è¯´ç™½äº†ï¼ŒHTMLçš„ç¬¬ä¸€è¡Œè¯­å¥ä¸€å…±æœ‰6ç§æƒ…å†µï¼š<br>
ä¸‹é¢å¯¹ä¸Šå›¾ä¸­çš„ä¸‰ç§å°è§„èŒƒè¿›è¡Œè§£é‡Šï¼š</p>
<ol>
<li>strictï¼šè¡¨ç¤ºâ€œä¸¥æ ¼çš„â€ï¼Œè¿™ç§æ¨¡å¼é‡Œé¢çš„è¦æ±‚æ›´ä¸ºä¸¥æ ¼ã€‚è¿™ç§ä¸¥æ ¼ä½“ç°åœ¨å“ªé‡Œï¼Ÿæœ‰ä¸€äº›æ ‡ç­¾ä¸èƒ½ä½¿ç”¨ã€‚ æ¯”å¦‚ï¼Œuæ ‡ç­¾ï¼Œå°±æ˜¯ç»™ä¸€ä¸ªæœ¬æ–‡åŠ ä¸‹åˆ’çº¿ï¼Œä½†æ˜¯è¿™å’ŒHTMLçš„æœ¬è´¨æœ‰å†²çªï¼Œå› ä¸ºHTMLæœ€å¥½æ˜¯åªè´Ÿè´£è¯­ä¹‰ï¼Œä¸è¦è´Ÿè´£æ ·å¼ï¼Œè€Œuè¿™ä¸ªä¸‹åˆ’çº¿æ˜¯æ ·å¼ã€‚æ‰€ä»¥ï¼Œåœ¨strictä¸­æ˜¯ä¸èƒ½ä½¿ç”¨uæ ‡ç­¾çš„ã€‚<br>
é‚£æ€ä¹ˆç»™æ–‡æœ¬å¢åŠ ä¸‹åˆ’çº¿å‘¢ï¼Ÿä»Šåå°†ä½¿ç”¨csså±æ€§æ¥è§£å†³ã€‚<br>
XHTML1.0æ›´ä¸ºä¸¥æ ¼ï¼Œå› ä¸ºè¿™ä¸ªä½“ç³»æœ¬èº«è§„å®šæ¯”å¦‚æ ‡ç­¾å¿…é¡»æ˜¯å°å†™å­—æ¯ã€å¿…é¡»ä¸¥æ ¼é—­åˆæ ‡ç­¾ã€å¿…é¡»ä½¿ç”¨å¼•å·å¼•èµ·å±æ€§ç­‰ç­‰ã€‚</li>
<li>Transitionalï¼šè¡¨ç¤ºâ€œæ™®é€šçš„â€ï¼Œè¿™ç§æ¨¡å¼å°±æ˜¯æ²¡æœ‰ä¸€äº›åˆ«çš„è§„èŒƒã€‚</li>
<li>Framesetï¼šè¡¨ç¤ºâ€œæ¡†æ¶â€ï¼Œåœ¨æ¡†æ¶çš„é¡µé¢ä½¿ç”¨ã€‚<br>
<strong>åœ¨HTML5ä¸­æå¤§çš„ç®€åŒ–äº†DTDï¼Œä¹Ÿå°±æ˜¯è¯´HTML5ä¸­å°±æ²¡æœ‰XHTMLäº†ã€‚HTML5çš„DTDï¼ˆæ–‡æ¡£å£°æ˜å¤´ï¼‰å¦‚ä¸‹ï¼š</strong><br>
<code>&lt;!DOCTYPE html&gt;</code></li>
</ol>
<h3 id="é¡µé¢è¯­è¨€">é¡µé¢è¯­è¨€</h3>
<p>ä¸‹é¢è¿™è¡Œæ ‡ç­¾ï¼Œç”¨äºæŒ‡å®šé¡µé¢çš„è¯­è¨€ç±»å‹ï¼š<br>
<code>&lt;html lang=&quot;en&quot;&gt;</code><br>
æœ€å¸¸è§çš„è¯­è¨€ç±»å‹æœ‰ä¸¤ç§ï¼š<br>
enï¼šå®šä¹‰é¡µé¢è¯­è¨€ä¸ºè‹±è¯­ã€‚<br>
zh-CNï¼šå®šä¹‰é¡µé¢è¯­è¨€ä¸ºä¸­æ–‡ã€‚</p>
<h3 id="å¤´æ ‡ç­¾">å¤´æ ‡ç­¾</h3>
<p>Html5æ¯”è¾ƒå®Œæ•´çš„ä¸€ä¸ªéª¨æ¶ï¼š</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;
	&lt;meta name=&quot;Author&quot; content=&quot;&quot;&gt;
    &lt;meta name=&quot;Keywords&quot; content=&quot;å‰å®³å¾ˆå‰å®³&quot; /&gt;
    &lt;meta name=&quot;Description&quot; content=&quot;ç½‘æ˜“æ˜¯ä¸­å›½é¢†å…ˆçš„äº’è”ç½‘æŠ€æœ¯å…¬å¸ï¼Œä¸ºç”¨æˆ·æä¾›å…è´¹é‚®ç®±ã€æ¸¸æˆã€æœç´¢å¼•æ“æœåŠ¡ï¼Œå¼€è®¾æ–°é—»ã€å¨±ä¹ã€ä½“è‚²ç­‰30å¤šä¸ªå†…å®¹é¢‘é“ï¼ŒåŠåšå®¢ã€è§†é¢‘ã€è®ºå›ç­‰äº’åŠ¨äº¤æµï¼Œç½‘èšäººçš„åŠ›é‡ã€‚&quot; /&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>å¤´æ ‡ç­¾å†…éƒ¨çš„å¸¸è§æ ‡ç­¾å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>&lt;title&gt;</code>ï¼šæŒ‡å®šæ•´ä¸ªç½‘é¡µçš„æ ‡é¢˜ï¼Œåœ¨æµè§ˆå™¨æœ€ä¸Šæ–¹æ˜¾ç¤ºã€‚</li>
<li><code>&lt;base&gt;</code>ï¼šä¸ºé¡µé¢ä¸Šçš„æ‰€æœ‰é“¾æ¥è§„å®šé»˜è®¤åœ°å€æˆ–é»˜è®¤ç›®æ ‡ã€‚</li>
<li><code>&lt;meta&gt;</code>ï¼šæä¾›æœ‰å…³é¡µé¢çš„åŸºæœ¬ä¿¡æ¯</li>
<li><code>&lt;body&gt;</code>ï¼šç”¨äºå®šä¹‰HTMLæ–‡æ¡£æ‰€è¦æ˜¾ç¤ºçš„å†…å®¹ï¼Œä¹Ÿç§°ä¸ºä¸»ä½“æ ‡ç­¾ã€‚æˆ‘ä»¬æ‰€å†™çš„ä»£ç å¿…é¡»æ”¾åœ¨æ­¤æ ‡ç­¾å…§ã€‚</li>
<li><code>&lt;link&gt;</code>ï¼šå®šä¹‰æ–‡æ¡£ä¸å¤–éƒ¨èµ„æºçš„å…³ç³»ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webå’ŒWebæ ‡å‡†]]></title>
        <id>https://merpyzf.github.io/post/web-he-web-biao-zhun/</id>
        <link href="https://merpyzf.github.io/post/web-he-web-biao-zhun/">
        </link>
        <updated>2020-04-25T15:35:15.000Z</updated>
        <content type="html"><![CDATA[<h2 id="web-ç½‘é¡µ-æµè§ˆå™¨">Webã€ç½‘é¡µã€æµè§ˆå™¨</h2>
<h3 id="web">Web</h3>
<p>Webï¼ˆWorld Wide Webï¼‰å³å…¨çƒå¹¿åŸŸç½‘ï¼Œä¹Ÿç§°ä¸ºä¸‡ç»´ç½‘ã€‚<br>
æˆ‘ä»¬å¸¸è¯´çš„Webç«¯å°±æ˜¯ç½‘é¡µç«¯ã€‚</p>
<h3 id="ç½‘é¡µ">ç½‘é¡µ</h3>
<p>ç½‘é¡µæ˜¯æ„æˆç½‘ç«™çš„åŸºæœ¬å…ƒç´ ã€‚ç½‘é¡µä¸»è¦ç”±æ–‡å­—ã€å›¾åƒå’Œè¶…é“¾æ¥ç­‰å…ƒç´ æ„æˆã€‚å½“ç„¶ï¼Œé™¤äº†è¿™äº›å…ƒç´ ï¼Œç½‘é¡µä¸­è¿˜å¯ä»¥åŒ…å«éŸ³é¢‘ã€è§†é¢‘ä»¥åŠFlashç­‰ã€‚<br>
æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥ç½‘å€åï¼Œæ‰“å¼€çš„ä»»ä½•ä¸€ä¸ªé¡µé¢ï¼Œéƒ½æ˜¯å±äºç½‘é¡µã€‚</p>
<h3 id="æµè§ˆå™¨">æµè§ˆå™¨</h3>
<p>æµè§ˆå™¨æ˜¯ç½‘é¡µè¿è¡Œçš„å¹³å°ï¼Œå¸¸è§çš„æµè§ˆå™¨æœ‰è°·æ­Œï¼ˆChromeï¼‰ã€Safariã€ç«ç‹ï¼ˆFirefoxï¼‰ã€IEã€Edgeã€Operaç­‰ã€‚</p>
<h2 id="webæ ‡å‡†">Webæ ‡å‡†</h2>
<h3 id="w3cç»„ç»‡">W3Cç»„ç»‡</h3>
<p>W3Cï¼šä¸‡ç»´ç½‘è”ç›Ÿç»„ç»‡ï¼Œç”¨æ¥åˆ¶å®šwebæ ‡å‡†çš„æœºæ„ï¼ˆç»„ç»‡ï¼‰ã€‚<br>
W3C ä¸‡ç»´ç½‘è”ç›Ÿæ˜¯å›½é™…æœ€è‘—åçš„æ ‡å‡†åŒ–ç»„ç»‡ã€‚1994å¹´æˆç«‹åï¼Œè‡³ä»Šå·²å‘å¸ƒè¿‘ç™¾é¡¹ç›¸å…³ä¸‡ç»´ç½‘çš„æ ‡å‡†ï¼Œå¯¹ä¸‡ç»´ç½‘å‘å±•åšå‡ºäº†æ°å‡ºçš„è´¡çŒ®ã€‚<br>
W3C ç»„ç»‡å°±ç±»ä¼¼äºç°å®ä¸–ç•Œä¸­çš„è”åˆå›½ã€‚<br>
ä¸ºä»€ä¹ˆè¦éµå¾ªWEBæ ‡å‡†å‘¢ï¼Ÿå› ä¸ºå¾ˆå¤šæµè§ˆå™¨çš„æµè§ˆå™¨å†…æ ¸ä¸åŒï¼Œå¯¼è‡´é¡µé¢è§£æå‡ºæ¥çš„æ•ˆæœå¯èƒ½ä¼šæœ‰å·®å¼‚ï¼Œç»™å¼€å‘è€…å¢åŠ æ— è°“çš„å·¥ä½œé‡ã€‚å› æ­¤éœ€è¦æŒ‡å®šç»Ÿä¸€çš„æ ‡å‡†ã€‚</p>
<h3 id="web-æ ‡å‡†">Web æ ‡å‡†</h3>
<p>Webæ ‡å‡†ï¼šåˆ¶ä½œç½‘é¡µè¦éµå¾ªçš„è§„èŒƒã€‚<br>
Webæ ‡å‡†ä¸æ˜¯æŸä¸€ä¸ªæ ‡å‡†ï¼Œè€Œæ˜¯ç”±W3Cç»„ç»‡å’Œå…¶ä»–æ ‡å‡†åŒ–ç»„ç»‡åˆ¶å®šçš„ä¸€ç³»åˆ—æ ‡å‡†çš„é›†åˆã€‚</p>
<p>1ã€Webæ ‡å‡†åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ç»“æ„æ ‡å‡†ï¼ˆHTMLï¼‰ï¼šç”¨äºå¯¹ç½‘é¡µå…ƒç´ è¿›è¡Œæ•´ç†å’Œåˆ†ç±»ã€‚</li>
<li>è¡¨ç°æ ‡å‡†ï¼ˆCSSï¼‰ï¼šç”¨äºè®¾ç½®ç½‘é¡µå…ƒç´ çš„ç‰ˆå¼ã€é¢œè‰²ã€å¤§å°ç­‰å¤–è§‚æ ·å¼ã€‚</li>
<li>è¡Œä¸ºæ ‡å‡†ï¼ˆJSï¼‰ï¼šç”¨äºå®šä¹‰ç½‘é¡µçš„äº¤äº’å’Œè¡Œä¸ºã€‚<br>
æ ¹æ®ä¸Šé¢çš„Webæ ‡å‡†ï¼Œå¯ä»¥å°† Webå‰ç«¯åˆ†ä¸ºä¸‰å±‚ï¼Œå¦‚ä¸‹ã€‚</li>
</ul>
<p>2ã€Webå‰ç«¯åˆ†ä¸‰å±‚ï¼š</p>
<ul>
<li>HTMLï¼ˆHyperText Markup Languageï¼‰ï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚ä»è¯­ä¹‰çš„è§’åº¦æè¿°é¡µé¢çš„ç»“æ„ã€‚ç›¸å½“äºäººçš„èº«ä½“ç»„ç»‡ç»“æ„ã€‚</li>
<li>CSSï¼ˆCascading Style Sheetsï¼‰ï¼šå±‚å æ ·å¼è¡¨ã€‚ä»å®¡ç¾çš„è§’åº¦ç¾åŒ–é¡µé¢çš„æ ·å¼ã€‚ç›¸å½“äºäººçš„è¡£æœå’Œæ‰“æ‰®ã€‚</li>
<li>JSï¼šJavaScriptã€‚ä»äº¤äº’çš„è§’åº¦æè¿°é¡µé¢çš„è¡Œä¸ºã€‚ç›¸å½“äºäººçš„åŠ¨ä½œï¼Œè®©äººæœ‰ç”Ÿå‘½åŠ›ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Flask-SQLAlchemyä½¿ç”¨]]></title>
        <id>https://merpyzf.github.io/post/flask-sqlalchemy-shi-yong/</id>
        <link href="https://merpyzf.github.io/post/flask-sqlalchemy-shi-yong/">
        </link>
        <updated>2020-04-25T09:49:16.000Z</updated>
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹">ç®€ä»‹</h3>
<p>æ‰©å±•Flask-SQLAlchemyé›†æˆäº†SQLAlchemyï¼Œå®ƒç®€åŒ–äº†è¿æ¥æ•°æ®åº“æœåŠ¡å™¨ã€ç®¡ç†æ•°æ®åº“ä¼šè¯ç­‰å„ç±»å·¥ä½œï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªORMæ¡†æ¶ã€‚</p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<pre><code>pip install flask-sqlalchemy
</code></pre>
<h3 id="åœ¨flaskç¯å¢ƒä¸‹ä½¿ç”¨">åœ¨Flaskç¯å¢ƒä¸‹ä½¿ç”¨</h3>
<pre><code>from flask import Flask
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
db = SQLAlchemy()
db.init_app(app)
</code></pre>
<p>å¦‚æœæœªé…ç½®SQLALCHEMY_DATABASE_URIï¼Œåˆ™ç¨‹åºæ— æ³•è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨ï¼Œç›´æ¥æ‰§è¡Œåˆ™ä¼šå‡ºé”™ã€‚</p>
<h3 id="è¿æ¥æ•°æ®åº“æœåŠ¡å™¨">è¿æ¥æ•°æ®åº“æœåŠ¡å™¨</h3>
<p>DBMSé€šå¸¸ä¼šæä¾›ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨åœ¨æ“ä½œç³»ç»Ÿä¸Šã€‚è¦è¿æ¥æ•°æ®åº“æœåŠ¡å™¨ã€‚é¦–å…ˆè¦ä¸ºæˆ‘ä»¬çš„ç¨‹åºåˆ¶å®šä¸€ä¸ªURIã€‚æ•°æ®åº“URIæ˜¯ä¸€ä¸ªåŒ…å«äº†å„ç§å±æ€§çš„å­—ç¬¦ä¸²ã€‚</p>
<h4 id="å¸¸ç”¨çš„æ•°æ®åº“è¿æ¥uri">å¸¸ç”¨çš„æ•°æ®åº“è¿æ¥URI</h4>
<ul>
<li>PostgreSQL : postgresql+&lt;æ•°æ®åº“é©±åŠ¨&gt;://username:password@host:port/databasename</li>
<li>MySQL : mysql+&lt;æ•°æ®åº“é©±åŠ¨&gt;://username:password@host:port/databasename</li>
<li>Oracle : oracle+&lt;æ•°æ®åº“é©±åŠ¨&gt;://username:password@host:port/databasename</li>
<li>SQLite(UNIX) : sqlite:////dir/sqlite.db</li>
<li>SQLite(Windows) : r'sqlite:///dir\sqlite.db'</li>
</ul>
<p>åœ¨Flask-SQLAlchemyä¸­æ•°æ®åº“è¿æ¥urié€šè¿‡SQLALCHEMY_DATABASE_URIè¿›è¡Œé…ç½®ã€‚</p>
<p>å‘Flaskæ¡†æ¶ä¸­æ·»åŠ é…ç½®:</p>
<pre><code># app.config.update({'SQLALCHEMY_DATABASE_URI': 'mysql://root:wangke0310@127.0.0.1:3306/test'})
or
app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://root:wangke0310@127.0.0.1:3306/test'
</code></pre>
<h3 id="é…ç½®è­¦å‘Šsqlalchemy_track_modifications">é…ç½®è­¦å‘Š:SQLALCHEMY_TRACK_MODIFICATIONS</h3>
<p>SQLALCHEMY_TRACK_MODIFICATIONSé…ç½®å˜é‡å†³å®šæ˜¯å¦è¿½è¸ªå¯¹è±¡çš„ä¿®æ”¹ï¼Œè¿™ç”¨äºFlask-SQLAlchemyçš„äº‹ä»¶é€šçŸ¥ç³»ç»Ÿã€‚è¿™ä¸ªé…ç½®é”®çš„å€¼é»˜è®¤ä¸ºNone,å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºFalseä»¥å…³é—­è­¦å‘Šä¿¡æ¯ï¼š</p>
<pre><code>app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
</code></pre>
<h3 id="å®šä¹‰æ¨¡å‹ç±»">å®šä¹‰æ¨¡å‹ç±»</h3>
<p>ç”¨æ¥æ˜ å°„åˆ°æ•°æ®è¡¨çš„Pythonç±»é€šå¸¸è¢«ç§°ä¸ºä¸€ä¸ªæ•°æ®åº“æ¨¡å‹ï¼ˆModelï¼‰ä¸€ä¸ªæ•°æ®åº“æ¨¡å‹ç±»å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ã€‚</p>
<h4 id="ä½¿ç”¨sqlalchemyå®šä¹‰æ¨¡å‹ç±»">ä½¿ç”¨SQLAlchemyå®šä¹‰æ¨¡å‹ç±»</h4>
<pre><code>Base = declarative_base()
class User(Base):
    __tablename__ = 'tab_users'
    id = Column(Integer, primary_key=True)
    name = Column(String(20))
    fullname = Column(String(20))
    password = Column(String(20))
</code></pre>
<p>åœ¨ä½¿ç”¨SQLAlchemyå®šä¹‰æ¨¡å‹ç±»æ—¶æˆ‘ä»¬éœ€è¦å»ç»§æ‰¿ä¸€ä¸ªç”±declarative_base()æ–¹æ³•åˆ›å»ºçš„ä¸€ä¸ªåŸºç±»ã€‚</p>
<h4 id="ä½¿ç”¨flask-sqlalchemyå®šä¹‰æ¨¡å‹ç±»">ä½¿ç”¨Flask-SQLAlchemyå®šä¹‰æ¨¡å‹ç±»</h4>
<pre><code>db = SQLAlchemy(app)
</code></pre>
<p>å½“æˆ‘ä»¬é€šè¿‡Flask-SQLAlchemyæ¥å®šä¹‰æ¨¡å‹ç±»æ—¶åˆ™ä¸å†éœ€è¦å‘ä¸Šé¢ä¸€æ ·æ‰‹åŠ¨å»é€šè¿‡declarative_base()æ–¹æ³•å»è·å–ä¸€ä¸ªåŸºç±»ã€‚æˆ‘ä»¬åªéœ€è¦åˆ›å»ºä¸€ä¸ªSQLAlchemyçš„å®ä¾‹å³å¯ï¼Œå…¶å†…éƒ¨ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬åˆ›å»ºã€‚</p>
<p>SQLAlchemyç±»çš„æ„é€ æ–¹æ³•ï¼š</p>
<pre><code>   def __init__(self, app=None, use_native_unicode=True, session_options=None,
                 metadata=None, query_class=BaseQuery, model_class=Model):

        self.use_native_unicode = use_native_unicode
        self.Query = query_class
        self.session = self.create_scoped_session(session_options)
        self.Model = self.make_declarative_base(model_class, metadata)
        self._engine_lock = Lock()
        self.app = app
        _include_sqlalchemy(self, query_class)

        if app is not None:
            self.init_app(app)

</code></pre>
<p><br>
å› æ­¤æ¨¡å‹ç±»ç›´æ¥ç»§æ‰¿db.Modelå³å¯ï¼š</p>
<pre><code>from app import db

Base = declarative_base()
class User(db.model):
    __tablename__ = 'tab_users'
    id = Column(Integer, primary_key=True)
    name = Column(String(20))
    fullname = Column(String(20))
    password = Column(String(20))
</code></pre>
<h3 id="ç±»ååˆ°è¡¨åçš„ç”Ÿæˆè§„åˆ™">ç±»ååˆ°è¡¨åçš„ç”Ÿæˆè§„åˆ™</h3>
<p>ç±»ååˆ°è¡¨åçš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š</p>
<p>Message -&gt; message [å•ä¸ªå•è¯è½¬æ¢ä¸ºå°å†™]</p>
<p>ProposalCategory -&gt; proposal_category [å¤šä¸ªå•è¯è½¬æ¢ä¸ºå°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å‰²æ¯ä¸€ä¸ªå•è¯]</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡{%raw%} <strong>tablename</strong>{%endraw%}  å±æ€§æ¥è‡ªå®šä¹‰ç±»æ‰€å¯¹åº”æ•°æ®åº“ä¸­è¡¨çš„è¡¨åã€‚</p>
<pre><code>class Campus(Base):
    __tablename__ = 'haha'
    id = Column(Integer, autoincrement=True, primary_key=True)
    name = Column(String(24), nullable=False)
    address = Column(String(254), nullable=True)

</code></pre>
<h3 id="å¸¸ç”¨å­—æ®µç±»å‹">å¸¸ç”¨å­—æ®µç±»å‹</h3>
<ul>
<li>Integer æ•´æ•°</li>
<li>String å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šlengthæ¥è®¾ç½®æ‰€å­˜æ”¾å­—ç¬¦çš„æœ€å¤§é•¿åº¦</li>
<li>Text è¾ƒé•¿çš„Unicodeæ–‡æœ¬</li>
<li>Date æ—¥æœŸï¼Œå­˜å‚¨Pythonçš„datetime.dateå¯¹è±¡</li>
<li>Time æ—¶é—´ï¼Œå­˜å‚¨Pythonçš„datetime.timeå¯¹è±¡</li>
<li>DateTime æ—¥æœŸæ—¶é—´ï¼Œå­˜å‚¨Pythonçš„datetimeå¯¹è±¡</li>
<li>Interval æ—¶é—´é—´éš”ï¼Œå­˜å‚¨Pythonçš„datetime.timedelta</li>
<li>Float æµ®ç‚¹æ•°</li>
<li>Boolean å¸ƒå°”å€¼</li>
<li>PickleType å­˜å‚¨Pickleåºåˆ—åŒ–çš„Pythonå¯¹è±¡</li>
<li>LargeBinary å­˜å‚¨ä»»æ„äºŒè¿›åˆ¶æ–‡ä»¶</li>
</ul>
<h3 id="å¸¸ç”¨å­—æ®µå‚æ•°">å¸¸ç”¨å­—æ®µå‚æ•°</h3>
<p>ä¸‹é¢ä¸ºå®ä¾‹åŒ–å­—æ®µç±»æ—¶å¸¸ç”¨çš„å­—æ®µå‚æ•°ï¼š</p>
<ul>
<li>primary_key : å¸ƒå°”ç±»å‹ï¼Œå¦‚æœè®¾ä¸ºTrueåˆ™è¯¥å­—æ®µä¸ºä¸»é”®</li>
<li>unique : å¸ƒå°”ç±»å‹ï¼Œå¦‚æœè®¾ä¸ºTrueåˆ™è¯¥å­—æ®µä¸å…è®¸å‡ºç°é‡å¤å€¼</li>
<li>index : å¸ƒå°”ç±»å‹ï¼Œå¦‚æœè®¾ä¸ºTrueåˆ™ä¸ºè¯¥å­—å­—æ®µåˆ›å»ºç´¢å¼•ï¼Œä»¥æé«˜æŸ¥è¯¢æ•ˆç‡</li>
<li>nullable : å¸ƒå°”ç±»å‹ï¼Œç¡®å®šè¯¥å­—æ®µæ˜¯å¦å¯ä¸ºç©ºï¼Œé»˜è®¤ä¸ºTrue</li>
<li>default : ä¸ºå½“å‰å­—æ®µè®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼</li>
</ul>
<h3 id="ç±»å±æ€§ååˆ°æ•°æ®åº“è¡¨å­—æ®µåç”Ÿæˆè§„åˆ™">ç±»å±æ€§ååˆ°æ•°æ®åº“è¡¨å­—æ®µåç”Ÿæˆè§„åˆ™</h3>
<p>å­—æ®µåé»˜è®¤ä¸ºç±»å±æ€§åï¼Œä¹Ÿå¯ä»¥é€šè¿‡å­—æ®µç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šï¼Œæˆ–è€…ä½¿ç”¨å…³é”®å­—nameã€‚</p>
<p>é€šè¿‡å­—æ®µç±»æ„é€ æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šï¼š</p>
<pre><code>   name = Column('name', String(24), nullable=False)
</code></pre>
<p>é€šè¿‡ä½¿ç”¨å…³å…³é”®å­—nameæŒ‡å®šï¼š</p>
<pre><code>name = Column(String(24), nullable=False, name='new_name')
</code></pre>
<h3 id="åˆ›å»ºè¡¨">åˆ›å»ºè¡¨</h3>
<p>å¯ä»¥é€šè¿‡è°ƒç”¨db.create_all()æ¥æŠŠå·²ç»å®šä¹‰å¥½çš„æ¨¡å‹ç±»ç”Ÿæˆæ•°æ®åº“ä¸­çš„è¡¨ã€‚</p>
<p>éœ€è¦æ³¨æ„æœ‰ä¸€ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>
<p>å¦‚æœæ¨¡å‹ç±»æ˜¯å•ç‹¬å®šä¹‰åœ¨åˆ«çš„æ¨¡å—ä¸­çš„ï¼Œåœ¨è°ƒç”¨db.create_all()å‰è¦å¯¼å…¥ç›¸åº”çš„æ¨¡å—ã€‚ç¡®ä¿å…¶è¢«åŠ è½½åˆ°äº†å†…å­˜ã€‚</p>
</li>
<li>
<p>æ‰§è¡Œdb.create_all()éœ€è¦ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒï¼š</p>
</li>
</ol>
<pre><code>with app.app_context():
    db.create_all()
</code></pre>
<ol start="3">
<li>ä½¿ç”¨db.create_all()åªä¼šåˆ›å»ºå’Œæ¨¡å‹ç±»ç›¸å¯¹åº”çš„è¡¨ï¼Œè€Œä¸ä¼šåˆ›å»ºæ•°æ®åº“ã€‚å› æ­¤åœ¨è°ƒç”¨æ­¤æ–¹æ³•å‰éœ€è¦ç¡®ä¿è¦æ“ä½œçš„æ•°æ®åº“å·²ç»è¢«åˆ›å»ºã€‚</li>
</ol>
<p>æ•°æ®åº“å’Œè¡¨ä¸€æ—¦è¢«åˆ›å»ºæ¨¡å‹ç±»çš„æ”¹åŠ¨å°±ä¸ä¼šè‡ªåŠ¨ä½œç”¨åˆ°å®é™…çš„è¡¨ä¸­ã€‚æ¯”å¦‚åœ¨æ¨¡å‹ç±»ä¸­æ·»åŠ æˆ–åˆ é™¤äº†ä¸€ä¸ªå­—æ®µï¼Œä¿®æ”¹å­—æ®µçš„åç§°å’Œç±»å‹ã€‚è¿™æ—¶å†æ¬¡è°ƒç”¨create_all()ä¹Ÿä¸ä¼šæ›´æ–°è¡¨ç»“æ„ã€‚å¦‚æœæƒ³è¦æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„èƒ½å¤Ÿç”Ÿæ•ˆåˆ™éœ€è¦å…ˆè°ƒç”¨db.drop_all()åˆ é™¤æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ï¼Œå†è°ƒç”¨db.create_all()æ‰ä¼šç”Ÿæ•ˆã€‚</p>
<p>åœ¨å¼€å‘æ—¶ï¼Œä»¥åˆ é™¤è¡¨å†é‡å»ºçš„æ–¹å¼æ›´æ–°æ•°æ®åº“ç®€å•ç›´æ¥ï¼Œä½†æ˜¯æ˜æ˜¾çš„ç¼ºé™·å°±ä¼šä¸¢æ‰å·²çš„æ•°æ®ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è‚¯å®šæ˜¯ä¸ä»¥è¿™æ ·çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡flask-migrateæ¥å¸®æˆ‘ä»¬å®ç°æ•°æ®åº“çš„è¿ç§»ï¼Œæ•°æ®åº“è¿ç§»å·¥å…·å¯ä»¥åœ¨ä¸ç ´åæ•°æ®çš„æƒ…å†µä¸‹æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„ã€‚</p>
<h3 id="flask-migrate">flask-migrate</h3>
<p><a href="https://alembic.sqlalchemy.org/en/latest/">Alembicæ–‡æ¡£</a></p>
<p>æ‰©å±•flask-migrateé›†æˆäº†Alembic(å’ŒSQLAlchemyæ˜¯åŒä¸€ä¸ªä½œè€…)å®ƒæä¾›äº†ä¸€äº›flaskå‘½ä»¤æ¥ç®€åŒ–æˆ‘ä»¬çš„å·¥ä½œã€‚</p>
<p>å°†flask-migrateé›†æˆåˆ°æˆ‘ä»¬çš„é¡¹ç›®éå¸¸ç®€å•:</p>
<pre><code> migrate = Migrate(app, db)
</code></pre>
<p>å®ä¾‹åŒ–Migrateç±»å¹¶ä¼ é€’ä¸¤ä¸ªå‚æ•°å³å¯ã€‚</p>
<ul>
<li>å‚æ•°1: Flaskå®ä¾‹å¯¹è±¡</li>
<li>å‚æ•°2: SQLAlchemyå®ä¾‹å¯¹è±¡</li>
</ul>
<p>é…ç½®å¥½ä¹‹åå°±å¯ä»¥é€šè¿‡flaskå‘½ä»¤è¿˜æ¥æ‰§è¡Œæ•°æ®åº“è¿ç§»å·¥ä½œã€‚åœ¨ä½¿ç”¨å‘½ä»¤å‰è¦ç¡®ä¿FLASK_APPé…ç½®æ­£ç¡®ï¼Œå¦åˆ™å‘½ä»¤æ— æ³•æ‰§è¡Œã€‚</p>
<h4 id="æ•°æ®åº“è¿ç§»å‘½ä»¤">æ•°æ®åº“è¿ç§»å‘½ä»¤</h4>
<ul>
<li>åˆ›å»ºè¿ç§»ç¯å¢ƒ : flask db init</li>
<li>ç”Ÿæˆè¿ç§»è„šæœ¬ : flask db migrate -m &quot;add column remark&quot;</li>
<li>æ›´æ–°æ•°æ®åº“ : flask db upgrade</li>
<li>å›é€€åˆ°ä¸Šä¸€ä¸ªæ•°æ®åº“ç‰ˆæœ¬ : flask db downgrade</li>
</ul>
<h3 id="ç®€å•æ•°æ®åº“æ“ä½œ">ç®€å•æ•°æ®åº“æ“ä½œ</h3>
<p>ä¸‹é¢å…³äºç®€å•æ•°æ®åº“æ“ä½œä½¿ç”¨Campusç±»è¿›è¡Œæ¼”ç¤º:</p>
<pre><code>class Campus(Base):
    id = Column(Integer, autoincrement=True, primary_key=True)
    # æ ¡åŒºå
    name = Column(String(24), nullable=False)
    # æ ¡åŒºåœ°å€
    address = Column(String(254), nullable=True)
</code></pre>
<h4 id="æŸ¥è¯¢æ“ä½œ">æŸ¥è¯¢æ“ä½œ</h4>
<p>ä¸€ä¸ªå®Œæ•´çš„æŸ¥è¯¢åº”è¯¥éµå¾ªä¸‹é¢çš„æ¨¡å¼ï¼š</p>
<p>&lt;æ¨¡å‹ç±»&gt;.query.&lt;è¿‡æ»¤æ–¹æ³•&gt;.&lt;æŸ¥è¯¢æ–¹æ³•&gt;</p>
<p>æˆ–è€…:</p>
<p>query(&lt;æ¨¡å‹ç±»&gt;).&lt;è¿‡æ»¤æ–¹æ³•&gt;.&lt;æŸ¥è¯¢æ–¹æ³•&gt;</p>
<h5 id="all-æŸ¥è¯¢æ‰€æœ‰çš„åœ°å€åˆ—è¡¨">all() æŸ¥è¯¢æ‰€æœ‰çš„åœ°å€åˆ—è¡¨</h5>
<pre><code>list = Campus.query.all()
or
list = db.session.query(Campus).query.all()
</code></pre>
<h5 id="first-æŸ¥è¯¢åœ°å€idä¸º1çš„è¡Œ">first() æŸ¥è¯¢åœ°å€idä¸º1çš„è¡Œ</h5>
<pre><code>campus = Campus.query.filter(Campus.id == 1).first()
</code></pre>
<h5 id="count-æŸ¥è¯¢è®°å½•æ€»æ•°">count() æŸ¥è¯¢è®°å½•æ€»æ•°</h5>
<pre><code>count = Campus.query.count()
</code></pre>
<h5 id="å¸¸ç”¨æŸ¥è¯¢æ–¹æ³•">å¸¸ç”¨æŸ¥è¯¢æ–¹æ³•:</h5>
<ul>
<li>all() è¿”å›åŒ…å«æ‰€æœ‰æŸ¥è¯¢è®°å½•çš„åˆ—è¡¨</li>
<li>first() è¿”å›æŸ¥è¯¢çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœæœªæ‰¾åˆ°è¿”å›None</li>
<li>first_or_404() è¿”å›æŸ¥è¯¢çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å›404å“åº”ç»™å®¢æˆ·ç«¯</li>
<li>one() è¿”å›æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œä¸”æ•´ä¸ªæŸ¥è¯¢åˆ°çš„è®°å½•æ•°åªå…è®¸ä¸º1ï¼Œå¦åˆ™æŠ›å‡ºé”™è¯¯</li>
<li>one_or_none() è¿”å›æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœæŸ¥è¯¢åˆ°çš„è®°å½•æ•°ä¸ä¸º1ï¼Œåˆ™è¿”å›None</li>
<li>get(ident) ä¼ å…¥ä¸»é”®ä½œä¸ºå‚æ•°ï¼Œè¿”å›æŒ‡å®šä¸»é”®æ‰€å¯¹åº”çš„è®°å½•ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å›None</li>
<li>get_or_404(ident) ä¼ å…¥ä¸»é”®ä½œä¸ºå‚æ•°ï¼Œè¿”å›æŒ‡å®šä¸»é”®æ‰€å¯¹åº”çš„è®°å½•ï¼Œå¦‚æœæœªæ‰¾åˆ°è¿”å›ä¸€ä¸ª404å“åº”ç»™å®¢æˆ·ç«¯</li>
<li>count() è¿”å›æŸ¥è¯¢ç»“æœçš„æ•°é‡</li>
<li>paginate() è¿”å›ä¸€ä¸ªpaginateå¯¹è±¡ï¼Œå¯ä»¥å¯¹è®°å½•è¿›è¡Œåˆ†é¡µå¤„ç†</li>
</ul>
<h5 id="å¸¸ç”¨çš„è¿‡æ»¤æ–¹æ³•">å¸¸ç”¨çš„è¿‡æ»¤æ–¹æ³•</h5>
<ul>
<li>filter() ä½¿ç”¨æŒ‡å®šçš„è§„åˆ™è¿‡æ»¤ï¼Œè¿”å›æ–°çš„æŸ¥è¯¢å¯¹è±¡</li>
<li>filter_by() ä½¿ç”¨æŒ‡å®šçš„è§„åˆ™è¿‡æ»¤ï¼ˆä»¥å…³é”®å­—è¡¨è¾¾å¼çš„å½¢å¼ï¼‰ï¼Œè¿”å›æ–°äº§ç”Ÿçš„æŸ¥è¯¢å¯¹è±¡</li>
<li>order_by() æ ¹æ®æŒ‡å®šçš„è§„åˆ™å¯¹æŸ¥è¯¢åˆ°çš„ç»“æœè¿›è¡Œæ’åºï¼Œè¿”å›æ–°äº§ç”Ÿçš„æŸ¥è¯¢å¯¹è±¡</li>
</ul>
<pre><code>list = Campus.query.order_by(Campus.id.desc()).all()
</code></pre>
<ul>
<li>limit(limit) ä½¿ç”¨æŒ‡å®šçš„å€¼é™åˆ¶åŸæŸ¥è¯¢è®°å½•è¿”å›çš„æ•°é‡ï¼Œè¿”å›æ–°äº§ç”Ÿçš„æŸ¥è¯¢å¯¹è±¡</li>
<li>group_by() æ ¹æ®æŒ‡å®šæ¡ä»¶å¯¹è®°å½•è¿›è¡Œåˆ†ç»„ï¼Œè¿”å›æ–°äº§ç”Ÿçš„æŸ¥è¯¢å¯¹è±¡</li>
<li>offset(offset) ä½¿ç”¨æŒ‡å®šçš„å€¼åç§»åŸæŸ¥è¯¢ç»“æœï¼Œè¿”å›æ–°äº§ç”Ÿçš„æŸ¥è¯¢å¯¹è±¡</li>
</ul>
<h5 id="èšåˆæ“ä½œ">èšåˆæ“ä½œ</h5>
<p>éœ€è¦ä»ï¼š from sqlalchemy.sql import func å¼•å…¥</p>
<ul>
<li>func.max() æ ¹æ®å‚æ•°æŒ‡å®šçš„åˆ—å–æ‰€æœ‰è®°å½•ä¸­æœ€å¤§çš„é‚£ä¸ª</li>
</ul>
<pre><code>max_id = db.session.query(func.max(Campus.id)).first()
</code></pre>
<ul>
<li>func.sum() å¯¹æŒ‡å®šçš„åˆ—æ‰§è¡Œç´¯åŠ æ“ä½œ</li>
</ul>
<pre><code>  sum_id = db.session.query(func.sum(Campus.id)).first()
</code></pre>
<ul>
<li>func.min() æ ¹æ®å‚æ•°æŒ‡å®šçš„åˆ—å–æ‰€æœ‰è®°å½•ä¸­æœ€å°çš„é‚£ä¸ª</li>
</ul>
<pre><code>  min_id = db.session.query(func.min(Campus.id)).first()
</code></pre>
<h5 id="filterå¸¸ç”¨çš„è¿‡æ»¤æ“ä½œ">filter()å¸¸ç”¨çš„è¿‡æ»¤æ“ä½œï¼š</h5>
<ul>
<li>== :</li>
</ul>
<pre><code>filter(Campus.id == 1)
</code></pre>
<ul>
<li>!= :</li>
</ul>
<pre><code>filter(Campus.id != 1)
</code></pre>
<ul>
<li>LIKE :</li>
</ul>
<pre><code>filter(Campus.address.like('%æ±Šæ²³%'))
</code></pre>
<ul>
<li>IN :</li>
</ul>
<pre><code>filter(Campus.name.in_(['mingjia', 'zhihu']))
</code></pre>
<ul>
<li>NOT IN :</li>
</ul>
<pre><code> filter(~Campus.name.in_(['mingjia', 'zhihu']))
</code></pre>
<ul>
<li>AND :</li>
</ul>
<pre><code># 1.ä½¿ç”¨and_ 
filter(and_(Campus.id == 1, Campus.name == 'zhihu'))
#2. ç›´æ¥åœ¨filterä¸­æ·»åŠ å¤šä¸ªè¡¨è¾¾å¼ä½¿ç”¨é€—å·åˆ†éš” 
filter(Campus.id == 1, Campus.name == 'zhihu')
#3. å åŠ ä½¿ç”¨å¯¹ä¸ªfilteræˆ–filter_byæ–¹æ³• 
filter(Campus.id == 1).filter(Campus.name == 'zhihu') 
</code></pre>
<ul>
<li>OR :</li>
</ul>
<pre><code>filter(or_(Campus.id == 1, Campus.name == 'mingjia' ))
</code></pre>
<p><a href="http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators">å®Œæ•´çš„æ“ä½œç¬¦åˆ—è¡¨</a></p>
<h5 id="filterä¸filter_byçš„åŒºåˆ«">filterä¸filter_byçš„åŒºåˆ«</h5>
<p>é€šè¿‡filter_byå¯ä»¥ç›´æ¥ä½¿ç”¨ å…³é”®å­—è¡¨è¾¾å¼ æ¥æŒ‡å®šè¿‡æ»¤è§„åˆ™ï¼Œè€Œfilteråªéœ€è¦é€šå¤šä¼ é€’å‚æ•°çš„å½¢å¼æ¥æŒ‡å®šè¿‡æ»¤è§„åˆ™ã€‚</p>
<p>ä½¿ç”¨filterå’Œfilter_byå®ç°åŒæ ·çš„æŸ¥è¯¢åŠŸèƒ½ï¼š</p>
<p>filter:</p>
<pre><code>campus = Campus.query.filter(Campus.id == 1).first()
</code></pre>
<p>filter_by:</p>
<pre><code>campus = Campus.query.filter_by(id = 1).first()
</code></pre>
<h4 id="æ›´æ–°æ“ä½œ">æ›´æ–°æ“ä½œ</h4>
<p>ç›´æ¥èµ‹å€¼ç»™æ¨¡å‹ç±»çš„å­—æ®µå±æ€§å°±å¯ä»¥å®Œæˆæ›´æ–°çš„æ“ä½œ</p>
<pre><code>campus = Campus.query.get(1)
campus.name = 'å››æœ›äº­æ ¡åŒº'
db.session.commit()
</code></pre>
<p>æ³¨æ„ï¼š åªæœ‰è¦æ’å…¥æ–°çš„è®°å½•æˆ–è€…å°†ç°æœ‰çš„è®°å½•æ·»åŠ åˆ°ä¼šè¯ä¸­æ‰éœ€è¦ä½¿ç”¨add,å•çº¯çš„æ›´æ–°è®°å½•æ—¶åªéœ€è¦ä¸ºå±æ€§èµ‹æ–°å€¼ï¼Œå¹¶æäº¤ä¿®æ”¹ã€‚</p>
<h4 id="åˆ é™¤æ“ä½œ">åˆ é™¤æ“ä½œ</h4>
<pre><code>campus = Campus.query.filter_by(id &gt; 2).delete()
db.session.commit()

</code></pre>
<h3 id="é«˜çº§æ•°æ®åº“æ“ä½œ">é«˜çº§æ•°æ®åº“æ“ä½œ</h3>
<h4 id="æ‰§è¡ŒåŸç”Ÿsql">æ‰§è¡ŒåŸç”ŸSQL</h4>
<pre><code># æŸ¥è¯¢
cursor = db.session.execute('select *from student')
print(cursor.fetchall())

# æ’å…¥
db.session.execute('insert into student(name) values(:value)', params={'value': 'wangk1e'})
db.session.commit()
</code></pre>
<h4 id="joinæŸ¥è¯¢">joinæŸ¥è¯¢</h4>
<pre><code>data = db.session.query(Student).join(Guardian, isouter = True).all()
</code></pre>
<p>ç”±äºStudentæ¨¡å‹å’ŒGuardianæ¨¡å‹ä¹‹é—´å­˜åœ¨ä¸»å¤–é”®å…³ç³»ï¼Œå› æ­¤å¯ä»¥ä¸ç”¨æŒ‡å®šä»»ä½•æ¡ä»¶å°±å¯ä»¥å®ç°è¿æ¥æŸ¥è¯¢ã€‚<br>
joinä¸­çš„isouterå‚æ•°ç”¨äºæŒ‡å®šä¸¤å¼ è¿æ¥æ—¶æ˜¯é‡‡ç”¨å¤–è¿æ¥è¿˜æ˜¯å†…è¿æ¥ã€‚</p>
<p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„å…³è”æ¡ä»¶:</p>
<pre><code> data = db.session.query(Student).join(Guardian, Student.guardian_id == Guardian.id, isouter = False).all()
</code></pre>
<h5 id="å¤šä¸ªæ¨¡å‹å…³è”æŸ¥è¯¢">å¤šä¸ªæ¨¡å‹å…³è”æŸ¥è¯¢</h5>
<pre><code>  query = db.session.query(Student).join(Student.guardian, isouter=True) \
            .join(Student.local_school, isouter=True) \
            .join(Student.course, isouter=True) \
            .join(Student.category, isouter=True) \
            .order_by(sort)
</code></pre>
<h5 id="å†…è¿æ¥å’Œå¤–é“¾æ¥çš„åŒºåˆ«">å†…è¿æ¥å’Œå¤–é“¾æ¥çš„åŒºåˆ«</h5>
<ol>
<li>
<p>å†…è¿æ¥ï¼š ä»å·¦è¡¨ä¸­å–å‡ºä¸€æ¡è®°å½•å»å’Œå³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•æ ¹æ®æ¡ä»¶è¿›è¡ŒåŒ¹é…ï¼Œåªæœ‰åŒ¹é…å¾—ä¸Šæ‰ä¼šä¿ç•™å†…å®¹ã€‚ä¹Ÿå°±æ˜¯ä¸¤å¼ è¡¨æ ¹æ®æŸä¸ªæ¡ä»¶å–äº¤é›†ã€‚</p>
</li>
<li>
<p>å¤–è¿æ¥ï¼š ä»å·¦è¡¨ä¸­å–å‡ºä¸€æ¡è®°å½•å»å’Œå³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•æ ¹æ®æ¡ä»¶è¿›è¡ŒåŒ¹é…ï¼Œæ— è®ºæ˜¯å¦åŒ¹é…å¾—ä¸Šéƒ½ä¼šä¿ç•™å†…å®¹ã€‚ä¸èƒ½åŒ¹é…çš„å…¶ä»–è¡¨ä¸­çš„å†…å®¹ä¸ºnullã€‚</p>
</li>
</ol>
<h5 id="ç¤ºä¾‹1">ç¤ºä¾‹1</h5>
<pre><code>            q = session.query(Address).select_from(User).\
                            join(User.addresses).\
                            filter(User.name == 'ed')
    
        Which will produce SQL similar to::

            SELECT address.* FROM user
                JOIN address ON user.id=address.user_id
                WHERE user.name = :name_1
</code></pre>
<h5 id="ç¤ºä¾‹2">ç¤ºä¾‹2</h5>
<pre><code>            address_subq = session.query(Address).\
                            filter(Address.email_address == 'ed@foo.com').\
                            subquery()

            q = session.query(User).join(address_subq, User.addresses)

        Producing SQL similar to::

            SELECT user.* FROM user
                JOIN (
                    SELECT address.id AS id,
                            address.user_id AS user_id,
                            address.email_address AS email_address
                    FROM address
                    WHERE address.email_address = :email_address_1
                ) AS anon_1 ON user.id = anon_1.user_id

</code></pre>
<h5 id="ç¤ºä¾‹3">ç¤ºä¾‹3</h5>
<pre><code>            a_alias = aliased(Address)

            q = session.query(User).\
                    join(User.addresses).\
                    join(a_alias, User.addresses).\
                    filter(Address.email_address=='ed@foo.com').\
                    filter(a_alias.email_address=='ed@bar.com')

        Where above, the generated SQL would be similar to::

            SELECT user.* FROM user
                JOIN address ON user.id = address.user_id
                JOIN address AS address_1 ON user.id=address_1.user_id
                WHERE address.email_address = :email_address_1
                AND address_1.email_address = :email_address_2
</code></pre>
<h3 id="funcçš„ä½¿ç”¨">funcçš„ä½¿ç”¨</h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è§£å†³ adb å®‰è£… apk å‡ºç° Failure [INSTALL_FAILED_TEST_ONLY] é”™è¯¯]]></title>
        <id>https://merpyzf.github.io/post/jie-jue-adb-an-zhuang-apk-chu-xian-failure-install_failed_test_only-cuo-wu/</id>
        <link href="https://merpyzf.github.io/post/jie-jue-adb-an-zhuang-apk-chu-xian-failure-install_failed_test_only-cuo-wu/">
        </link>
        <updated>2020-04-02T13:12:03.000Z</updated>
        <content type="html"><![CDATA[<p>å¹³å°ç‰ˆæœ¬æ˜¯android 7.0ï¼Œåœ¨adb install *.apk ä¼šæç¤ºä¸‹é¢çš„é”™è¯¯ï¼š<br>
Failure INSTALL_FAILED_TEST_ONLY</p>
<h2 id="æ–¹æ³•1">æ–¹æ³•1ï¼š</h2>
<p>ä¿®æ”¹AndroidManifest.xml ä¸­android:testOnly=&quot;true&quot; æ”¹æˆ android:testOnly=&quot;false&quot;ï¼Œæˆ–è€…ç›´æ¥å»æ‰ã€‚</p>
<h2 id="æ–¹æ³•2">æ–¹æ³•2ï¼š</h2>
<p>adb push <em>.apk /tmp<br>
adb shell pm install -t /tmp/</em>.apk</p>
<h2 id="æ–¹æ³•3">æ–¹æ³•3ï¼š</h2>
<p>adb install -t *.apk</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹è¯»ä¹¦ç¬”è®°]]></title>
        <id>https://merpyzf.github.io/post/lesslessjavascript-gao-ji-cheng-xu-she-ji-greatergreater-du-shu-bi-ji/</id>
        <link href="https://merpyzf.github.io/post/lesslessjavascript-gao-ji-cheng-xu-she-ji-greatergreater-du-shu-bi-ji/">
        </link>
        <updated>2020-03-28T16:31:16.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ç¬¬ä¸‰ç« ">ç¬¬ä¸‰ç« </h1>
<h2 id="withè¯­å¥">withè¯­å¥</h2>
<p>withè¯­å¥çš„ä½œç”¨å°±æ˜¯å°†ä»£ç çš„ä½œç”¨åŸŸè®¾ç½®åˆ°ä¸€ä¸ªç‰¹å®šçš„å¯¹è±¡ä¸­ã€‚<br>
å®šä¹‰withè¯­å¥çš„ä¸»è¦ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–å¤šæ¬¡ç¼–å†™åŒä¸€ä¸ªå¯¹è±¡çš„å·¥ä½œï¼Œå¦‚ğŸ‘‡æ‰€ç¤ºï¼š</p>
<pre><code>var qs = location.search.substring(1);
var hostname = location.hostname;
var url = location.href;
</code></pre>
<p>ä»¥ä¸Šå‡ è¡Œä»£ç éƒ½æ¶‰åŠåˆ°å¯¹locationå¯¹è±¡çš„æ“ä½œï¼Œå¦‚æœä½¿ç”¨withè¯­å¥ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„ä»£ç æ”¹æˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>with(location){
    var qs = search.substring(1);
    var hostname = hostname;
    var url = href;
}
</code></pre>
<p>åœ¨è¿™ä¸ªé‡å†™çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨withè¯­å¥å…³è”äº†locationå¯¹è±¡ã€‚è¿™æ„å‘³ç€åœ¨withè¯­å¥ä¸­çš„ä»£ç å—å†…éƒ¨ï¼Œæ¯ä¸ªå˜é‡é¦–å…ˆä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œè€Œå¦‚æœåœ¨å±€éƒ¨ç¯å¢ƒä¸­æ‰¾ä¸åˆ°è¯¥å˜é‡çš„å®šä¹‰ï¼Œå°±ä¼šæŸ¥æ‰¾locationå¯¹è±¡ä¸­æ˜¯å¦æœ‰åŒåçš„å±æ€§ã€‚å¦‚æœå‘ç°äº†åŒåçš„å±æ€§ï¼Œåˆ™ä»¥locationå¯¹è±¡çš„å€¼ä½œä¸ºå˜é‡ä¸­å€¼ã€‚</p>
<p>__ ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸ä½¿ç”¨withè¯­å¥ï¼Œå¦åˆ™å°†è¢«è§†ä¸ºè¯­æ³•é”™è¯¯ğŸ™…ï¼ˆå¤§é‡çš„ä½¿ç”¨withè¯­å¥ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œä¹Ÿä¼šç»™è°ƒè¯•ä»£ç é€ æˆå›°éš¾ï¼‰ __</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…³äºCordova&IonicNativeæ’ä»¶å¼€å‘é‡åˆ°çš„ä¸€äº›å‘]]></title>
        <id>https://merpyzf.github.io/post/guan-yu-cordovaandionicnative-cha-jian-kai-fa-yu-dao-de-yi-xie-keng/</id>
        <link href="https://merpyzf.github.io/post/guan-yu-cordovaandionicnative-cha-jian-kai-fa-yu-dao-de-yi-xie-keng/">
        </link>
        <updated>2020-03-16T03:32:28.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1-åœ¨ionic-nativeä¸‹ç¼–è¯‘ç”Ÿæˆçš„ç±»å‹å£°æ˜åŒ…ä¸­çš„jsæ–‡ä»¶å†…ä¼šå¯¹cordovaè¿›è¡Œé‡å¤å¼•ç”¨">1. åœ¨ionic-nativeä¸‹ç¼–è¯‘ç”Ÿæˆçš„ç±»å‹å£°æ˜åŒ…ä¸­çš„jsæ–‡ä»¶å†…ä¼šå¯¹cordovaè¿›è¡Œé‡å¤å¼•ç”¨ï¼š</h3>
<figure data-type="image" tabindex="1"><img src="https://merpyzf.github.io/post-images/1584329762977.png" alt="" loading="lazy"></figure>
<p>è§£å†³æ–¹æ³•ï¼šåˆ é™¤å¤šä½™å¼•å…¥çš„cordovaæ¨¡å—</p>
<h3 id="2-åœ¨ç±»å‹å£°æ˜æ–‡ä»¶indexdtsä¸­ä¸ºè°ƒç”¨nativeå±‚åŠŸèƒ½çš„æ–¹æ³•çš„è¿”å›ç»“æœæŒ‡å®šä¸ºobservableä¸ç”Ÿæ•ˆ">2. åœ¨ç±»å‹å£°æ˜æ–‡ä»¶index.d.tsä¸­ä¸ºè°ƒç”¨Nativeå±‚åŠŸèƒ½çš„æ–¹æ³•çš„è¿”å›ç»“æœæŒ‡å®šä¸ºObservableä¸ç”Ÿæ•ˆï¼š</h3>
<p>index.d.tsæ–‡ä»¶å†…éƒ¨æ–¹æ³•å£°æ˜ï¼š</p>
<pre><code>  /**
   * å¼€å¯å¯¹æ¡ç æ‰«æç»“æœçš„æ¥æ”¶
   */
  @cordova()
  openScanReceiver(): Observable&lt;any&gt; {
    return;
  }
</code></pre>
<p>è§£å†³æ–¹æ³•ï¼š<br>
<img src="https://merpyzf.github.io/post-images/1584330103891.png" alt="" loading="lazy"><br>
ç»™ä»¥ä¸Šæˆªå›¾ä¸­çš„ä¸¤ä¸ªindex.jsè¡¥å…… <code>{&quot;observable&quot;: true }</code></p>
<h3 id="2-pluginresultstatusok-è®¾ç½®æ’ä»¶ç»“æœè¿”å›çš„çŠ¶æ€æ˜æ˜æ˜¯okæœ€åå›è°ƒå´æ˜¯error">2. PluginResult.Status.OK è®¾ç½®æ’ä»¶ç»“æœè¿”å›çš„çŠ¶æ€æ˜æ˜æ˜¯OKæœ€åå›è°ƒå´æ˜¯error</h3>
<pre><code>       PluginResult pr = new PluginResult(PluginResult.Status.OK, barcode);
       pr.setKeepCallback(true);
       barCodeCallbackContext.sendPluginResult(pr);
</code></pre>
<p>è¿™ä¸ªå‘è¸©äº†ä¸€ä¸ªä¸Šåˆï¼ä¸€ä¸ªä½çº§é”™è¯¯ï¼Œ<strong>æ³¨æ„æ£€æŸ¥æ’ä»¶çš„è°ƒç”¨å’Œæ’ä»¶ä¸­æ–¹æ³•ç­¾åçš„å£°æ˜æ˜¯å¦ä¸€è‡´ï¼æ¯”å¦‚è¿™é‡Œå°±æ¼æ‰äº†ä¸€ä¸ªå‚æ•°ã€‚</strong></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[adb error: more than one device]]></title>
        <id>https://merpyzf.github.io/post/adb-error-more-than-one-device/</id>
        <link href="https://merpyzf.github.io/post/adb-error-more-than-one-device/">
        </link>
        <updated>2020-03-16T02:58:24.000Z</updated>
        <content type="html"><![CDATA[<p>You can run every command of adb by selecting the device by deviceID. run command to get Device Id:</p>
<pre><code>adb devices
</code></pre>
<p>you will get the list of all available devices something like this:</p>
<pre><code>&lt;device ID&gt; device
emulator-5554 offline
</code></pre>
<p>the copy the device id run commad like this:</p>
<pre><code>adb -s &lt;device ID&gt; &lt;your command&gt;
</code></pre>
<p>example:</p>
<pre><code>adb -s &lt;device ID&gt; tcpip 5555
</code></pre>
<p>OR</p>
<pre><code>adb -s &lt;device ID&gt; forward tcp:59900 tcp:59900
</code></pre>
<p>this will not get the error like &quot;more than one device/emulator&quot;</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŸºäºCordovaåˆ›å»ºIonicæ’ä»¶]]></title>
        <id>https://merpyzf.github.io/post/ji-yu-cordova-chuang-jian-ionic-cha-jian/</id>
        <link href="https://merpyzf.github.io/post/ji-yu-cordova-chuang-jian-ionic-cha-jian/">
        </link>
        <updated>2020-03-13T10:16:43.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>
<p>å…‹éš†Githubä¸­çš„Ionic-Nativeçš„é¡¹ç›®åˆ°æœ¬åœ°ï¼Œåé¢å‘½ä»¤çš„æ‰§è¡Œå’Œæ’ä»¶æ–‡ä»¶æ¨¡ç‰ˆçš„ç”Ÿæˆéœ€è¦ä¾èµ–æ­¤ç¯å¢ƒã€‚</p>
</li>
<li>
<p>è¿›å…¥ionic-nativeçš„æ ¹ç›®å½•</p>
</li>
<li>
<p>åˆ›å»ºæ’ä»¶åŒ…</p>
<pre><code>// è°ƒç”¨æ­¤å‘½ä»¤ï¼Œå¹¶å°†`PluginName`æ›¿æ¢ä¸ºå¸Œæœ›æ·»åŠ çš„æ’ä»¶åç§°
// ç¬¬ä¸€ä¸ªå­—æ¯ä¸€å®šè¦å¤§å†™ï¼Œä½¿ç”¨å¤§é©¼å³°å‘½å
gulp plugin:create -n PluginName
</code></pre>
<p>æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤å°†ä¼šåœ¨src/@ionic-native/pluginsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåç§°ä¸ºPluginNameçš„æ’ä»¶ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªindex.tsæ–‡ä»¶ï¼Œåé¢Ionicæ’ä»¶çš„ç¼–å†™å°±æ˜¯éœ€è¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œçš„ã€‚</p>
</li>
<li>
<p>ç¼–å†™index.ts</p>
<pre><code>@Plugin({
pluginName: 'ZijinUtilPlugin',
plugin: 'cordova-plugin-x-zijinutil', // npm package name, example: cordova-plugin-camera
pluginRef: 'cordova.plugins.ZijinUtil', // the variable reference to call the plugin, example: navigator.geolocation
platforms: ['Android'] // Array of platforms supported, example: ['Android', 'iOS']
})
@Injectable()
export class ZijinUtilPlugin extends IonicNativePlugin {
}
</code></pre>
</li>
</ol>
<p>è¿™é‡Œéœ€è¦é‡ç‚¹æŒ‡å‡ºçš„æ˜¯ @Pluginè£…é¥°å™¨ä¸­å‚æ•°çš„æ·»åŠ ï¼š</p>
<ol>
<li>
<p>pluginRefï¼šæŒ‡çš„æ˜¯åº•å±‚Cordovaæ’ä»¶çš„åº”ç”¨æ–¹å¼ï¼Œè¿™ä¸ªå€¼å’Œcordovaæ’ä»¶ä¸­çš„plugin.xmlä¸‹çš„clobbersèŠ‚ç‚¹å€¼ç›¸åŒã€‚</p>
</li>
<li>
<p>pluginï¼šå€¼çš„æ˜¯npmåŒ…çš„åç§°</p>
</li>
<li>
<p>é€šè¿‡è°ƒç”¨ npm run build <pluginName> æ¥å®Œæˆå¯¹æ’ä»¶çš„ç¼–è¾‘ï¼Œæœ€åç¼–è¯‘çš„ç»“æœä¼šç”Ÿæˆåˆ°ionic-native/dist/@ionic-native/pluginsç›®å½•ã€‚å¦‚æœæ˜¯ä½¿ç”¨çš„æ˜¯MacOSç³»ç»Ÿè¿›è¡Œçš„ç¼–è¯‘è¿˜æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹çš„é”™è¯¯ï¼š<code>Error: ENOENT: no such file or directory, open '/Users/wangke/Workspace/CompanyProjects/ionic-native/dist/@ionic-native/plugins/.DS_Store/index.js'</code>ã€‚é€šè¿‡æ‰§è¡Œ find . -name '.DS_Store' -type f -delete å‘½ä»¤åå³å¯è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p>
</li>
</ol>
]]></content>
    </entry>
</feed>